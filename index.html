```html
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
<title>Local Spades ‚Äì Mobile</title>
<style>
:root{
  --bg:#0b1220; --panel:#141e35; --panel2:#0f1a30;
  --text:#fff; --muted:#b7c7ff; --accent:#4f7cff;
  --good:#2ecc71; --warn:#f1c40f;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto;background:var(--bg);color:var(--text)}
header{padding:12px;text-align:center;font-weight:800;background:#0e1730}
.tabs{display:flex}
.tabs button{flex:1;padding:10px;border:none;background:#0e1730;color:var(--muted);font-weight:700}
.tabs button.active{background:var(--panel);color:#fff}
.screen{display:none;padding:12px}
.screen.active{display:block}
.box{background:var(--panel);border-radius:12px;padding:10px;margin-bottom:10px}
h3{margin:0 0 6px;font-size:15px}
button{background:var(--accent);color:#fff;border:none;padding:10px 14px;border-radius:10px;font-weight:700}
button.small{padding:6px 10px;font-size:13px}
button:disabled{opacity:.5}
.cards{display:flex;gap:6px;overflow-x:auto}
.card{min-width:48px;padding:10px;background:var(--panel2);border-radius:10px;text-align:center;font-weight:800}
.card.legal{outline:2px solid var(--accent)}
.trick{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.chat{font-size:14px;line-height:1.4;color:var(--muted)}
.scoreline{display:flex;justify-content:space-between;font-size:18px;font-weight:800}
</style>

</head>

<body>
    
<header>üÇ° Local Spades (You + AI)</header>

<div class="tabs">
  <button class="active" onclick="showTab('play')">Play</button>
  <button onclick="showTab('score')">Score</button>
  <button onclick="showTab('rules')">Rules</button>
</div>

<div id="play" class="screen active">
  <div class="box scoreline">
    <div>Your Team: <span id="scoreA">0</span></div>
    <div>AI Team: <span id="scoreB">0</span></div>
  </div>

  <div class="box">
    <h3>Bidding</h3>
    Your bid:
    <input type="number" id="humanBid" min="0" max="13" value="3">
    <button class="small" onclick="confirmBid()">Confirm</button>
    <div class="chat" id="bidChat"></div>
  </div>

  <div class="box">
    <h3>Your Cards</h3>
    <div class="cards" id="hand"></div>
  </div>

  <div class="box">
    <h3>Current Trick</h3>
    <div class="trick" id="trick"></div>
  </div>

  <div class="box">
    <h3>AI Chat</h3>
    <div class="chat" id="chat"></div>
  </div>

  <button onclick="newHand()">New Hand</button>
</div>

<div id="score" class="screen">
  <div class="box">
    <h3>Scores</h3>
    <p>Your Team (A+C): <b id="scoreA2">0</b></p>
    <p>AI Team (B+D): <b id="scoreB2">0</b></p>
    <p>First team to <b>7 points</b> wins.</p>
  </div>
</div>

<div id="rules" class="screen">
  <div class="box">
    <h3>Rules</h3>
    <ul>
      <li>Spades always trump; can be led anytime.</li>
      <li>0 bid allowed (not Nil). No blind bids.</li>
      <li>Only extra tricks score points.</li>
      <li>Baseline = team bid unless opponents declare higher.</li>
      <li>Declare rule: opponents may say ‚ÄúGive me your cards. We declare Y.‚Äù</li>
      <li>No penalties for missing baseline.</li>
      <li>First to 7 points wins.</li>
    </ul>
  </div>
</div>

<script>
const suits=["‚ô†","‚ô•","‚ô¶","‚ô£"];
const ranks=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];
let deck=[],hands=[[],[],[],[]];
let scores=[0,0];
let baseline=0;
let tricks=[0,0];
let history=[];

function showTab(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.querySelectorAll(".tabs button").forEach(b=>b.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  event.target.classList.add("active");
}

function buildDeck(){
  deck=[];
  for(let s of suits)for(let r of ranks)deck.push({r,s});
}
function shuffle(){
  for(let i=deck.length-1;i>0;i--){
    let j=Math.floor(Math.random()*(i+1));
    [deck[i],deck[j]]=[deck[j],deck[i]];
  }
}
function deal(){
  hands=[[],[],[],[]];
  deck.forEach((c,i)=>hands[i%4].push(c));
}

function aiBidC(hand,humanBid){
  let score=0;
  let suitCount={‚ô†:0,‚ô•:0,‚ô¶:0,‚ô£:0};
  hand.forEach(c=>suitCount[c.s]++);
  hand.forEach(c=>{
    if(c.s==="‚ô†"){
      if(["A","K","Q"].includes(c.r))score+=1;
      else if(["J","10"].includes(c.r))score+=0.6;
      else score+=0.3;
    }else{
      if(c.r==="A")score+=0.9;
      if(c.r==="K" && suitCount[c.s]>=2)score+=0.5;
      if(c.r==="Q" && suitCount[c.s]>=3)score+=0.3;
    }
  });
  Object.values(suitCount).forEach(n=>{
    if(n===0)score+=0.8;
    if(n===1)score+=0.5;
  });
  let bid=Math.round(score);
  if(humanBid>=5)bid=Math.max(0,bid-1);
  return Math.min(13,Math.max(0,bid));
}

function opponentDeclare(base){
  let suspicion=0;
  if(base<=4)suspicion+=0.4;
  history.slice(-3).forEach(h=>{
    if(h.extra>0 && h.base<=4)suspicion+=0.2;
  });
  if(suspicion>=0.65){
    return Math.min(13,base+(suspicion>=0.85?2:1));
  }
  return null;
}

function renderHand(){
  const h=document.getElementById("hand");
  h.innerHTML="";
  hands[0].forEach((c,i)=>{
    let d=document.createElement("div");
    d.className="card legal";
    d.textContent=c.r+c.s;
    d.onclick=()=>playHuman(i);
    h.appendChild(d);
  });
}

function confirmBid(){
  const hb=parseInt(document.getElementById("humanBid").value);
  const cb=aiBidC(hands[2],hb);
  baseline=hb+cb;
  document.getElementById("bidChat").innerHTML=
    `Partner: ‚ÄúMy hand looks like about ${cb}. I bid ${cb}.‚Äù<br>Baseline: ${baseline}`;
  let y=opponentDeclare(baseline);
  if(y){
    baseline=y;
    chat(`Opponent: ‚ÄúGive me your cards. We declare you will make ${y}.‚Äù`);
  }else{
    chat("Opponent: ‚ÄúWe accept your bid.‚Äù");
  }
}

function playHuman(i){
  hands[0].splice(i,1);
  renderHand();
  let win=Math.random()<0.55;
  if(win)tricks[0]++; else tricks[1]++;
  if(hands[0].length===0)endHand();
}

function endHand(){
  let extra=Math.max(0,tricks[0]-baseline);
  scores[0]+=extra;
  history.push({extra,base:baseline});
  updateScore();
  if(scores[0]>=7){
    alert("üéâ You win!");
    scores=[0,0];
  }
}

function chat(t){
  document.getElementById("chat").innerHTML+=t+"<br>";
}
function updateScore(){
  scoreA.textContent=scores[0];
  scoreB.textContent=scores[1];
  scoreA2.textContent=scores[0];
  scoreB2.textContent=scores[1];
}

function newHand(){
  tricks=[0,0];
  document.getElementById("chat").innerHTML="";
  document.getElementById("bidChat").innerHTML="";
  buildDeck(); shuffle(); deal(); renderHand();
}

newHand();
</script>
</body>
</html>
```
